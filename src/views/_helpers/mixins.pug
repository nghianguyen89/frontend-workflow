//- text link || image link
mixin linkto(options)
    if options.container 
        -container_id = ''
        -container_class = ''
        if options.container_id
            -container_id = ' id="' + options.container_id + '"';
        if options.container_class
            -container_class = ' class="' + options.container_class + '"';
        !='<' + options.container + container_id + container_class + '>'

    if options.type == 'image'
        if options.link_ext
            a(href=options.link_ext target="_blank")
                +img({name:options.name, alt:options.alt, class:options.class})
        else
            a(class=options.class href=relativeRoot + options.href target=options.target data-fancybox=options.fancybox data-src=options.data_src data-type=options.data_type data-caption=options.data_caption data=options.data)
                +img({name:options.name, alt:options.alt, class:options.class})
    else 
        if options.link_ext
            a(style=options.style class=options.class href=options.link_ext target="_blank")
                span._txt
                    !=options.text
        else
            a(style=options.style class=options.class href=relativeRoot + options.href target=options.target data-fancybox=options.fancybox data-src=options.data_src data-type=options.data_type data-caption=options.data_caption data=options.data)
                span._txt
                    !=options.text

    if options.container 
        !='</' + options.container + '>'


//- image tag
mixin img(options)
    -img_path = relativeRoot + 'assets/images/' + options.name
    -alt_txt=''
    if options.src 
        -img_path = options.src
    if options.alt 
        -alt_txt = options.alt

    if options.type == 'bg'
        div(loading="lazy" id=options.id class=options.class style='background-image:url("' + img_path + '");')
    else
        img(loading="lazy" id=options.id class=options.class src=img_path alt=alt_txt width=options.width height=options.height usemap=options.usemap)


//- form element
mixin form_item(options)
    case options.type
        when 'textarea'
            textarea(id=options.id class=options.class type='textarea' name=options.name value=options.value placeholder=options.placeholder)

        when 'radio'
            span.wpcf7-form-control.wpcf7-radio
                each value in options.value 
                    span.wpcf7-list-item
                        label
                            input(type='radio' name=options.name value=value)
                            span.wpcf7-list-item-label= value

        when 'checkbox'
            span.wpcf7-form-control.wpcf7-radio
                each value in options.value 
                    span.wpcf7-list-item
                        label
                            input(type='checkbox' name=options.name value=value)
                            span.wpcf7-list-item-label= value

        when 'select'
            span.form_select_group
                select.wpcf7-form-control.wpcf7-select(id=options.id class=options.class name=options.name)
                    if options.name == 'prefectures'
                        option(value="都道府県を選択") 都道府県を選択
                        option(value="北海道") 北海道
                        option(value="青森県") 青森県
                        option(value="岩手県") 岩手県
                        option(value="宮城県") 宮城県
                        option(value="秋田県") 秋田県
                        option(value="山形県") 山形県
                        option(value="福島県") 福島県
                        option(value="茨城県") 茨城県
                        option(value="栃木県") 栃木県
                        option(value="群馬県") 群馬県
                        option(value="埼玉県") 埼玉県
                        option(value="千葉県") 千葉県
                        option(value="東京都") 東京都
                        option(value="神奈川県") 神奈川県
                        option(value="新潟県") 新潟県
                        option(value="富山県") 富山県
                        option(value="石川県") 石川県
                        option(value="福井県") 福井県
                        option(value="山梨県") 山梨県
                        option(value="長野県") 長野県
                        option(value="岐阜県") 岐阜県
                        option(value="静岡県") 静岡県
                        option(value="愛知県") 愛知県
                        option(value="三重県") 三重県
                        option(value="滋賀県") 滋賀県
                        option(value="京都府") 京都府
                        option(value="大阪府") 大阪府
                        option(value="兵庫県") 兵庫県
                        option(value="奈良県") 奈良県
                        option(value="和歌山県") 和歌山県
                        option(value="鳥取県") 鳥取県
                        option(value="島根県") 島根県
                        option(value="岡山県") 岡山県
                        option(value="広島県") 広島県
                        option(value="山口県") 山口県
                        option(value="徳島県") 徳島県
                        option(value="香川県") 香川県
                        option(value="愛媛県") 愛媛県
                        option(value="高知県") 高知県
                        option(value="福岡県") 福岡県
                        option(value="佐賀県") 佐賀県
                        option(value="長崎県") 長崎県
                        option(value="熊本県") 熊本県
                        option(value="大分県") 大分県
                        option(value="宮崎県") 宮崎県
                        option(value="鹿児島県") 鹿児島県
                        option(value="沖縄県") 沖縄県
                    else
                        each value in options.value 
                            option(value=value)= value
                i._i

        when 'acceptance'
            span.wpcf7-form-control.wpcf7-acceptance
                span.wpcf7-list-item
                    input(type="checkbox" name="" value="1" aria-invalid="false")
            span._text!= options.value

        default
            =options.before
            input(id=options.id class=options.class type=options.type name=options.name value=options.value placeholder=options.placeholder)
            =options.after


//- topic row
mixin topic_row(options)
    -link_detail = 'topics-detail.html'
    if options.href 
        -link_detail = options.href

    tr
        th._date= options.date
        if options.cate
            td._cate
                +linkto({href:'#', text:options.cate})
        td._title
            +linkto({href:link_detail, text:options.title, target:options.target})


//- main visual 
mixin main_visual(options)
    -image_pc = relativeRoot + 'assets/images/' + options.img_pc
    -image_sm = relativeRoot + 'assets/images/' + options.img_pc
    if options.img_smp
        -image_sm = relativeRoot + 'assets/images/' + options.img_smp

    .main_visual(data-imgpc= image_pc, data-imgsmp= image_sm)
        h2.main_visual_title
            span.jp= options.text_jp
            span.en= options.text_en


//- breadcrumb
mixin breadcrumb(options)
    #path
        .container
            span
                +linkto({href:'index.html', text:'ホーム', after:'＞'})
            if options.parent1
                span
                    +linkto({href:options.parent1.link, text:options.parent1.title, after:'＞'})
            if options.parent2
                span
                    +linkto({href:options.parent2.link, text:options.parent2.title, after:'＞'})
            span= options.title


//- main title
mixin main_title(options)
    -clsTitle = 'main_title inview-right delay3'

    if options.class 
        -clsTitle = clsTitle + ' ' + options.class
    if options.effect == 0
        if options.class
            -clsTitle = 'main_title' + ' ' + options.class
        else 
            -clsTitle = 'main_title'

    h2(id=options.id class=clsTitle)
        span(class="en")= options.en
        span(class="jp")= options.ja


//- title
mixin title(options)
    if options.htag 
        -htag = options.htag
    else
        -htag = 'h3'

    if options.id
        -hid = ' id="' + options.id + '"';
    else 
        -hid = ''

    if options.class
        -hclass = ' class="' + options.class + '"';
    else
        -hclass = ' class="title"'

    !='<' + htag + hid + hclass + '>'
    if options.ja
        span(class="ja")= options.ja
    if options.en
        span(class="en")= options.en
    !='</' + htag + '>'


//- oooooo